# Javascript 面对对象编程


[TOC]
<a href="top"></a>

说明：
先写html再写css,最后写js。js里面定义很多类，类里面函数写操作html，css的代码和相关变量。最后html里面new对象，用面对对象的思想去编程，操作new出来的对象就行了，对象会自己去做变更html，css的内容。

### 0.定义函数的方法
**1. 声明式，基本方式**
```
function functionName(arg0, arg1, ... argN) {
  	to do something;
}

--------------------for example:-------------------

function sayHello(sName , sMessage){
	alert("Hello " + name + sMessage);
}

```

**2.  Function 类直接创建函数的语法**
**函数也是一个对象，用一个变量去接收函数对象**
```
//注意是大写Function 
var functionName = new Function(arg0,arg1,...,argN,function_Body);

--------------------for example 1:-------------------
var sayHello = new Function(sName, sMessage, "alert(\"Hello\" + sName + sMessage);");

//函数名只是指向函数的变量，可以把函数作为参数传递给另一个函数!
--------------------for example 2:------------------
var sayHello = new Function("sName" , "alert(\"Hello \" + sName);");
var callAnotherFunc = new Function(funcName, sName){
	funcName(sName);
}
callAnotherFunc(sayHello, "Bruce");

```
[Back to top](#top)

###***开启Js面对对象编程篇章***

### 1. 面对对象术语

#### 对象
ECMA-262 把对象（object）定义为“属性的无序集合，每个属性存放一个原始值、对象或函数”。严格来说，这意味着对象是无特定顺序的值的数组。
尽管 ECMAScript 如此定义对象，但它更通用的定义是基于代码的名词（人、地点或事物）的表示。

#### 类
每个对象都由类定义，可以把类看做对象的配方。类不仅要定义对象的接口（interface）（开发者访问的属性和方法），还要定义对象的内部工作（使属性和方法发挥作用的代码）。编译器和解释程序都根据类的说明构建对象。

#### 实例
程序使用类创建对象时，生成的对象叫作类的实例（instance）。对类生成的对象的个数的唯一限制来自于运行代码的机器的物理内存。每个实例的行为相同，但实例处理一组独立的数据。由类创建对象实例的过程叫做实例化（instantiation）。
在前面的章节我们提到过，ECMAScript 并没有正式的类。相反，ECMA-262 把对象定义描述为对象的配方。这是 ECMAScript 逻辑上的一种折中方案，因为对象定义实际上是对象自身。即使类并不真正存在，我们也把对象定义叫做类，因为大多数开发者对此术语更熟悉，而且从功能上说，两者是等价的。


#### 面向对象语言的要求

一种面向对象语言需要向开发者提供四种基本能力：
>封装、聚集、继承、多态

- **封装** - 把相关的信息（无论数据或方法）存储在对象中的能力
- **聚集** - 把一个对象存储在另一个对象内的能力
- **继承** - 由另一个类（或多个类）得来类的属性和方法的能力
- **多态** - 编写能以多种方法运行的函数或方法的能力

ECMAScript 支持这些要求，因此可被是看做面向对象的。

#### 对象的构成

在ECMAScript中，对象由特性(attribute)构成。
特性可以是原始值，也可以是引用值。
如果特性存放的是函数，他就是对象的方法(method).
否则该特性被看作对象的属性(property).
[Back to top](#top)


### 2. 作用域

#### 公有、私有、受保护的作用域
在传统的面向对象程序设计中，主要关注于公用和私有作用域。
公有作用域下中的对象属性可以从对象外部访问，即开发者创建对象后就可以使用这个对象的公有属性，直接可以使用赋值符号"="更改这些属性。
(访问：var 变量 = 对象.公有属性;        赋值:对象.公有属性 = 值;）

而私有作用域中的属性只能在对象内部使用，即只能由对象本身的函数调用，写在对象本身的函数里面。***并且这些私有属性对于外界来说是看不见的，不存在的。***要访问私有属性，或者更改私有属性，只能通过调用这个对象的函数，这个函数会返回私有属性的值，这样去访问获取值，也不能直接使用"="赋值。
( ***错误：***~~访问：var 变量 = 对象.私有属性;   赋值：对象.私有属性 = 值;~~
***正确：***访问：var 变量 = 对象.返回私有属性的函数();     赋值： 对象.设置私有属性的函数();    )

#### ECMAScript 只有公用作用域！
 ECMAScript 中只存在一种作用域 - ***公用作用域***！ECMAScript 中的所有对象的所有属性和方法都是公用的。因此，定义自己的类和对象时，必须格外小心。记住，所有属性和方法默认都是公用的！ 
 
- **建议性的解决方法**
许多开发者都在网上提出了有效的属性作用域模式，解决了 ECMAScript 的这种问题。
由于缺少私有作用域，开发者确定了一个规约，说明哪些属性和方法应该被看做私有的。这种规约规定在属性前后加下划线：
obj._color_ = "blue";
这段代码中，属性 color 是私有的。注意，下划线并不改变属性是公用属性的事实，它只是告诉其他开发者，应该把该属性看作私有的。
有些开发者还喜欢用单下划线说明私有成员，例如：obj._color。

#### 静态作用域
静态作用域定义的属性和方法任何时候都能从同一位置访问。在 Java 中，类可具有属性和方法，无需实例化该类的对象，即可访问这些属性和方法，例如 java.net.URLEncoder 类，它的函数 encode() 就是静态方法。
通俗来讲就是 静态变量或者静态函数，整个类只有这样一个变量或者函数，这个类的所有实例对象共同拥有这一个变量和函数。

#### ECMAScript 没有静态作用域
严格来说，ECMAScript 并没有静态作用域。不过，它可以给构造函数提供属性和方法。还记得吗，构造函数只是函数。**函数是对象**，对象可以有属性和方法。例如：

```
function sayHello(){
	alert("hello");
}

sayHello.alternate = function(){
	alert("hi");
}
sayHello();			//输出 hello
sayHello.alternate();	//输出 hi
```
函数是也是一个对象是一个对象是一个对象！！！方法alternate()实际上是函数sayHello对象的一个方法。并且是公有方法，而不是静态方法。

#### 关键字this
在 ECMAScript 中，要掌握的最重要的概念之一是关键字 this 的用法，它用在对象的方法中。***关键字 this 总是指向调用该方法的对象***，(this代表本对象，本类)例如：
```
var oCar = new Object;
oCar.color = "red";
	oCar.showColor = function() {
  alert(this.color);
};

oCar.showColor();		//输出 "red"

------------------等价于---------------------
var oCar = new Object;
oCar.color = "red";
oCar.showColor = function() {
	alert(oCar.color);
};

oCar.showColor();		//输出 "red"
```
[Back totop](#top) 

### 定义类和对象
